{"ast":null,"code":"import { mdiUpload } from '@mdi/js';\nimport { computed, ref, watch } from 'vue';\nimport JbButton from '@/components/JbButton.vue';\nexport default {\n  props: {\n    modelValue: {\n      type: [Object, File, Array],\n      default: null\n    },\n    label: {\n      type: String,\n      default: 'Upload'\n    },\n    icon: {\n      type: String,\n      default: mdiUpload\n    },\n    accept: {\n      type: String,\n      default: null\n    },\n    color: {\n      type: String,\n      default: 'info'\n    }\n  },\n  emits: ['update:modelValue'],\n  setup(__props, {\n    expose,\n    emit\n  }) {\n    expose();\n    const props = __props;\n    const root = ref(null);\n    const file = ref(props.modelValue);\n    const modelValueProp = computed(() => props.modelValue);\n    watch(modelValueProp, value => {\n      file.value = value;\n      if (!value) {\n        root.value.input.value = null;\n      }\n    });\n    const upload = event => {\n      const value = event.target.files || event.dataTransfer.files;\n      file.value = value[0];\n      emit('update:modelValue', file.value);\n\n      // Use this as an example for handling file uploads\n      // let formData = new FormData()\n      // formData.append('file', file.value)\n\n      // const mediaStoreRoute = `/your-route/`\n\n      // axios\n      //   .post(mediaStoreRoute, formData, {\n      //     headers: {\n      //       'Content-Type': 'multipart/form-data'\n      //     },\n      //     onUploadProgress: progressEvent\n      //   })\n      //   .then(r => {\n      //\n      //   })\n      //   .catch(err => {\n      //\n      //   })\n    };\n\n    // const uploadPercent = ref(0)\n    //\n    // const progressEvent = progressEvent => {\n    //   uploadPercent.value = Math.round(\n    //     (progressEvent.loaded * 100) / progressEvent.total\n    //   )\n    // }\n\n    const __returned__ = {\n      props,\n      emit,\n      root,\n      file,\n      modelValueProp,\n      upload,\n      mdiUpload,\n      computed,\n      ref,\n      watch,\n      JbButton\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["mdiUpload","computed","ref","watch","JbButton","root","file","props","modelValue","modelValueProp","value","input","upload","event","target","files","dataTransfer","emit"],"sources":["/Users/jasongreenberg/Desktop/dashboard/vue-admin-dashboard/src/components/FilePicker.vue"],"sourcesContent":["<script setup>\nimport { mdiUpload } from '@mdi/js'\nimport { computed, ref, watch } from 'vue'\nimport JbButton from '@/components/JbButton.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: [Object, File, Array],\n    default: null\n  },\n  label: {\n    type: String,\n    default: 'Upload'\n  },\n  icon: {\n    type: String,\n    default: mdiUpload\n  },\n  accept: {\n    type: String,\n    default: null\n  },\n  color: {\n    type: String,\n    default: 'info'\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst root = ref(null)\n\nconst file = ref(props.modelValue)\n\nconst modelValueProp = computed(() => props.modelValue)\n\nwatch(modelValueProp, value => {\n  file.value = value\n\n  if (!value) {\n    root.value.input.value = null\n  }\n})\n\nconst upload = event => {\n  const value = event.target.files || event.dataTransfer.files\n\n  file.value = value[0]\n\n  emit('update:modelValue', file.value)\n\n  // Use this as an example for handling file uploads\n  // let formData = new FormData()\n  // formData.append('file', file.value)\n\n  // const mediaStoreRoute = `/your-route/`\n\n  // axios\n  //   .post(mediaStoreRoute, formData, {\n  //     headers: {\n  //       'Content-Type': 'multipart/form-data'\n  //     },\n  //     onUploadProgress: progressEvent\n  //   })\n  //   .then(r => {\n  //\n  //   })\n  //   .catch(err => {\n  //\n  //   })\n}\n\n// const uploadPercent = ref(0)\n//\n// const progressEvent = progressEvent => {\n//   uploadPercent.value = Math.round(\n//     (progressEvent.loaded * 100) / progressEvent.total\n//   )\n// }\n</script>\n\n<template>\n  <div class=\"flex items-stretch justify-start relative\">\n    <label class=\"inline-flex\">\n      <jb-button\n        as=\"a\"\n        :label=\"label\"\n        :icon=\"icon\"\n        :color=\"color\"\n        :class=\"{ 'rounded-r-none': file }\"\n      />\n      <input\n        ref=\"root\"\n        type=\"file\"\n        class=\"absolute top-0 left-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1\"\n        :accept=\"accept\"\n        @input=\"upload\"\n      >\n    </label>\n    <div v-if=\"file\">\n      <span\n        class=\"inline-flex px-4 py-2 justify-center bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 border rounded-r\"\n      >\n        {{ file.name }}\n      </span>\n    </div>\n  </div>\n</template>\n"],"mappings":"AACA,SAASA,SAAS,QAAQ,SAAS;AACnC,SAASC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAC1C,OAAOC,QAAQ,MAAM,2BAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BhD,MAAMC,IAAI,GAAGH,GAAG,CAAC,IAAI,CAAC;IAEtB,MAAMI,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAACC,UAAU,CAAC;IAElC,MAAMC,cAAc,GAAGR,QAAQ,CAAC,MAAMM,KAAK,CAACC,UAAU,CAAC;IAEvDL,KAAK,CAACM,cAAc,EAAEC,KAAK,IAAI;MAC7BJ,IAAI,CAACI,KAAK,GAAGA,KAAK;MAElB,IAAI,CAACA,KAAK,EAAE;QACVL,IAAI,CAACK,KAAK,CAACC,KAAK,CAACD,KAAK,GAAG,IAAI;MAC/B;IACF,CAAC,CAAC;IAEF,MAAME,MAAM,GAAGC,KAAK,IAAI;MACtB,MAAMH,KAAK,GAAGG,KAAK,CAACC,MAAM,CAACC,KAAK,IAAIF,KAAK,CAACG,YAAY,CAACD,KAAK;MAE5DT,IAAI,CAACI,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC;MAErBO,IAAI,CAAC,mBAAmB,EAAEX,IAAI,CAACI,KAAK,CAAC;;MAErC;MACA;MACA;;MAEA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;;IAED;IACA;IACA;IACA;IACA;IACA;IACA","ignoreList":[]},"metadata":{},"sourceType":"module"}